<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>회원가입</title>
    <link rel="stylesheet" type="text/css" href="assets/css/regist.css">
    <script type="text/javascript" src="assets/js/jquery.min.js"></script>
	<script type="text/javascript" >
		$(document).ready(function(){
			$("#reg").click(function(){
				
				if ($("#userName").val() == "")
				{
					alert("pls input user name");
					return;
				}
				
				if ($("#userId").val() == "")
				{
					alert("pls input user Id");
					return;
				}
				
				if ($("#userPwd").val() == "")
				{
					alert("pls input password");
					return;
				}
				
				if ($("#userPwd2").val() == "")
				{
					alert("pls input password again");
					return;
				}
				
				if ($("#userSex").val() == "")
				{
					alert("pls input user sex");
					return;
				}
				
				if ($("#age").val() == "")
				{
					alert("pls input user age");
					return;
				}
				
				if ($("#userPwd").val() != $("#userPwd2").val())
				{
					alert("password is not same");
					return;
				}
				
				
				$.ajax({					
					url : "/user/addUser",
                    dataType : 'json',	
                    type : "POST",					
					data : {
						name: $("#userName").val(),
						id: $("#userId").val(),
						password: $("#userPwd").val(),
						age: $("#age").val(),
						sex: $("#userSex").val()
					},					
					success : function(res) {
						console.log(res);
						
						if (res.state == 1)
						{
							if (confirm("User add successful"))
								location.href = "/login"	;
								
						}
						else if (res.state == 2)
						{
							if (confirm("User add error"))
								location.reload();
						
						}
						else if (res.state == 0)
						{
							if (confirm("User add error"))
								location.reload();
						}
						else if (res.state == 3)
						{
							if (confirm("DB error"))
								location.reload();
						}
						
					},					
					error : function(e){
						console.log(e.status);
						console.log(e.responseText);
					}
				});
			});
		});
	</script>
	
</head>
<body>
    <div class="wrapper">
        <article>
            <h1><em>치매 검진 자동화 모듈 개발</em><span></span></h1>
            <div class="main">
                <div>
                    <div class="name">
                        <input type="name" name="userName" id="userName" placeholder="name" 
						style = "width :95%;
											display: inline-block;
					padding: 10px 0 10px 15px;
					font-family: 'Open Sans', sans;
					font-weight: 400;
					color: #377D6A;
					background: #efefef;
					border: 0;
					border-radius: 3px;
					outline: 0;
					text-indent: 10px; 
					transition: all .3s ease-in-out; "
					><em></em>
<br>
                    </div>
                    <div class="userName">
                        <input type="text" name="userId" id="userId" placeholder="id number" 	style = "width :95%;
						display: inline-block;
padding: 10px 0 10px 15px;
font-family: 'Open Sans', sans;
font-weight: 400;
color: #377D6A;
background: #efefef;
border: 0;
border-radius: 3px;
outline: 0;
text-indent: 10px; 
transition: all .3s ease-in-out; "><em></em>
<br>
                    </div>
                    <div class="password">
                        <input type="password" name="userPwd" id="userPwd" placeholder="password" 	style = "width :95%;
						display: inline-block;
padding: 10px 0 10px 15px;
font-family: 'Open Sans', sans;
font-weight: 400;
color: #377D6A;
background: #efefef;
border: 0;
border-radius: 3px;
outline: 0;
text-indent: 10px; 
transition: all .3s ease-in-out; " ><em></em>
<br>
                    </div>
                    <div class="againpwd">
                        <input type="password" name="userPwd2" id="userPwd2" placeholder="password again" 	style = "width :95%;
						display: inline-block;
padding: 10px 0 10px 15px;
font-family: 'Open Sans', sans;
font-weight: 400;
color: #377D6A;
background: #efefef;
border: 0;
border-radius: 3px;
outline: 0;
text-indent: 10px; 
transition: all .3s ease-in-out; "><em></em>
					</div>
					<br>
                    <div class="sex">
                        <input type="text" name="userSex" id="userSex" placeholder="M or F" 	style = "width :95%;
						display: inline-block;
padding: 10px 0 10px 15px;
font-family: 'Open Sans', sans;
font-weight: 400;
color: #377D6A;
background: #efefef;
border: 0;
border-radius: 3px;
outline: 0;
text-indent: 10px; 
transition: all .3s ease-in-out; "><em></em>
<br>
                    </div>
					<div class="age">
                        <input type="text" name="age" id="age" placeholder="age" 	style = "width :95%;
						display: inline-block;
padding: 10px 0 10px 15px;
font-family: 'Open Sans', sans;
font-weight: 400;
color: #377D6A;
background: #efefef;
border: 0;
border-radius: 3px;
outline: 0;
text-indent: 10px; 
transition: all .3s ease-in-out; "><em></em>
<br>
                    </div>
                    <button id="reg" 	style = "width :95%;
					display: inline-block;
padding: 10px 0 10px 15px;
font-family: 'Open Sans', sans;
font-weight: 400;
color: #377D6A;
background: #efefef;
border: 0;
border-radius: 3px;
outline: 0;
text-indent: 10px; 
transition: all .3s ease-in-out; ">회원가입</button>
                </div>
            </div>
        </article>
        <footer>
            <ul>
                <li><a href="#">contact us</a></li>
              
            </ul>
      
        </footer>
    </div>
</body>
</html>
